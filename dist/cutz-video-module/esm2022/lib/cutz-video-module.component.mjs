import { Component, Input, ViewChild, } from '@angular/core';
import * as i0 from "@angular/core";
export class CutzVideoModuleComponent {
    constructor() {
        this.videoLeftSrc = '';
        this.videoRightSrc = '';
        this.posterImg = '';
    }
    ngAfterViewInit() {
        const handle = this.handle.nativeElement;
        const videoRight = this.videoRight.nativeElement;
        const videoWrapper = this.videoWrapper.nativeElement;
        let isDragging = false;
        const startDragging = () => {
            isDragging = true;
            document.body.style.cursor = 'ew-resize';
        };
        const stopDragging = () => {
            isDragging = false;
            document.body.style.cursor = 'default';
        };
        const onMove = (clientX) => {
            const rect = videoWrapper.getBoundingClientRect();
            let offsetX = clientX - rect.left;
            offsetX = Math.max(0, Math.min(offsetX, rect.width));
            const percentage = (offsetX / rect.width) * 100;
            handle.style.left = `calc(${percentage}% - 20px)`;
            videoRight.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;
        };
        const onMouseMove = (event) => {
            if (!isDragging)
                return;
            onMove(event.clientX);
        };
        const onTouchMove = (event) => {
            if (!isDragging)
                return;
            const touch = event.touches[0];
            onMove(touch.clientX);
        };
        handle.addEventListener('mousedown', startDragging);
        document.addEventListener('mouseup', stopDragging);
        document.addEventListener('mousemove', onMouseMove);
        // Soporte para dispositivos táctiles
        handle.addEventListener('touchstart', () => {
            startDragging();
        });
        document.addEventListener('touchend', stopDragging);
        document.addEventListener('touchmove', onTouchMove);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CutzVideoModuleComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: CutzVideoModuleComponent, isStandalone: true, selector: "cutz-video-module", inputs: { videoLeftSrc: "videoLeftSrc", videoRightSrc: "videoRightSrc", posterImg: "posterImg" }, viewQueries: [{ propertyName: "handle", first: true, predicate: ["handle"], descendants: true }, { propertyName: "videoRight", first: true, predicate: ["videoRight"], descendants: true }, { propertyName: "videoWrapper", first: true, predicate: ["videoWrapper"], descendants: true }], ngImport: i0, template: "<section class=\"video-comparator-block\">\n    <div\n        #videoWrapper\n        class=\"video-wrapper\"\n    >\n        <video\n            #videoLeft\n            class=\"video-left\"\n            [poster]=\"posterImg\"\n            [src]=\"videoLeftSrc\"\n            autoplay\n            muted\n            loop\n        ></video>\n\n        <video\n            #videoRight\n            class=\"video-right\"\n            [poster]=\"posterImg\"\n            [src]=\"videoRightSrc\"\n            autoplay\n            muted\n            loop\n        ></video>\n\n        <div\n            #handle\n            class=\"handle\"\n        >\n            <div class=\"divider-line\"></div>\n            <div class=\"handle-icon\">\u27F7</div>\n        </div>\n    </div>\n</section>", styles: [".video-comparator-block{width:100%;position:relative;border-radius:20px;overflow:hidden;box-shadow:0 4px 10px #363c631a;aspect-ratio:16/9;max-width:75rem;margin-inline:auto}.video-comparator-block .video-wrapper{position:relative;width:100%;height:100%;overflow:hidden}.video-comparator-block .video-wrapper video{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0}.video-comparator-block .video-wrapper .video-left{z-index:1}.video-comparator-block .video-wrapper .video-right{z-index:2;clip-path:inset(0 50% 0 0)}.video-comparator-block .video-wrapper .handle{position:absolute;top:0;left:calc(50% - 1rem);width:2rem;height:100%;background-color:transparent;z-index:4;cursor:ew-resize;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none;aspect-ratio:1}.video-comparator-block .video-wrapper .handle .handle-icon{aspect-ratio:1;background-color:#76fa8a;border-radius:50%;border:2px solid #0e1539;display:flex;justify-content:center;align-items:center;font-size:1.5rem;color:#0e1539;position:absolute;z-index:1}.video-comparator-block .video-wrapper .handle .divider-line{position:relative;z-index:0;width:2px;height:100%;background-color:#363c63}\n"] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CutzVideoModuleComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cutz-video-module', standalone: true, template: "<section class=\"video-comparator-block\">\n    <div\n        #videoWrapper\n        class=\"video-wrapper\"\n    >\n        <video\n            #videoLeft\n            class=\"video-left\"\n            [poster]=\"posterImg\"\n            [src]=\"videoLeftSrc\"\n            autoplay\n            muted\n            loop\n        ></video>\n\n        <video\n            #videoRight\n            class=\"video-right\"\n            [poster]=\"posterImg\"\n            [src]=\"videoRightSrc\"\n            autoplay\n            muted\n            loop\n        ></video>\n\n        <div\n            #handle\n            class=\"handle\"\n        >\n            <div class=\"divider-line\"></div>\n            <div class=\"handle-icon\">\u27F7</div>\n        </div>\n    </div>\n</section>", styles: [".video-comparator-block{width:100%;position:relative;border-radius:20px;overflow:hidden;box-shadow:0 4px 10px #363c631a;aspect-ratio:16/9;max-width:75rem;margin-inline:auto}.video-comparator-block .video-wrapper{position:relative;width:100%;height:100%;overflow:hidden}.video-comparator-block .video-wrapper video{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0}.video-comparator-block .video-wrapper .video-left{z-index:1}.video-comparator-block .video-wrapper .video-right{z-index:2;clip-path:inset(0 50% 0 0)}.video-comparator-block .video-wrapper .handle{position:absolute;top:0;left:calc(50% - 1rem);width:2rem;height:100%;background-color:transparent;z-index:4;cursor:ew-resize;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none;aspect-ratio:1}.video-comparator-block .video-wrapper .handle .handle-icon{aspect-ratio:1;background-color:#76fa8a;border-radius:50%;border:2px solid #0e1539;display:flex;justify-content:center;align-items:center;font-size:1.5rem;color:#0e1539;position:absolute;z-index:1}.video-comparator-block .video-wrapper .handle .divider-line{position:relative;z-index:0;width:2px;height:100%;background-color:#363c63}\n"] }]
        }], ctorParameters: () => [], propDecorators: { videoLeftSrc: [{
                type: Input
            }], videoRightSrc: [{
                type: Input
            }], posterImg: [{
                type: Input
            }], handle: [{
                type: ViewChild,
                args: ['handle', { static: false }]
            }], videoRight: [{
                type: ViewChild,
                args: ['videoRight', { static: false }]
            }], videoWrapper: [{
                type: ViewChild,
                args: ['videoWrapper', { static: false }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3V0ei12aWRlby1tb2R1bGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvY3V0ei12aWRlby1tb2R1bGUvc3JjL2xpYi9jdXR6LXZpZGVvLW1vZHVsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9jdXR6LXZpZGVvLW1vZHVsZS9zcmMvbGliL2N1dHotdmlkZW8tbW9kdWxlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsS0FBSyxFQUdMLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQzs7QUFRdkIsTUFBTSxPQUFPLHdCQUF3QjtJQVVuQztRQVRTLGlCQUFZLEdBQVcsRUFBRSxDQUFDO1FBQzFCLGtCQUFhLEdBQVcsRUFBRSxDQUFDO1FBQzNCLGNBQVMsR0FBVyxFQUFFLENBQUM7SUFPakIsQ0FBQztJQUVoQixlQUFlO1FBQ2IsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7UUFDekMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7UUFDakQsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUM7UUFFckQsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBRXZCLE1BQU0sYUFBYSxHQUFHLEdBQUcsRUFBRTtZQUN6QixVQUFVLEdBQUcsSUFBSSxDQUFDO1lBQ2xCLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7UUFDM0MsQ0FBQyxDQUFDO1FBRUYsTUFBTSxZQUFZLEdBQUcsR0FBRyxFQUFFO1lBQ3hCLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDbkIsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUN6QyxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRyxDQUFDLE9BQWUsRUFBRSxFQUFFO1lBQ2pDLE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1lBQ2xELElBQUksT0FBTyxHQUFHLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ2xDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUVyRCxNQUFNLFVBQVUsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBRWhELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLFFBQVEsVUFBVSxXQUFXLENBQUM7WUFDbEQsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsV0FBVyxHQUFHLEdBQUcsVUFBVSxRQUFRLENBQUM7UUFDbEUsQ0FBQyxDQUFDO1FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxLQUFpQixFQUFFLEVBQUU7WUFDeEMsSUFBSSxDQUFDLFVBQVU7Z0JBQUUsT0FBTztZQUN4QixNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQztRQUVGLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBaUIsRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxVQUFVO2dCQUFFLE9BQU87WUFDeEIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQixNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQztRQUVGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFDcEQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNuRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRXBELHFDQUFxQztRQUNyQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtZQUN6QyxhQUFhLEVBQUUsQ0FBQztRQUNsQixDQUFDLENBQUMsQ0FBQztRQUVILFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDcEQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUN0RCxDQUFDOytHQTlEVSx3QkFBd0I7bUdBQXhCLHdCQUF3QiwyY0NkckMscXhCQWlDVTs7NEZEbkJHLHdCQUF3QjtrQkFOcEMsU0FBUzsrQkFDRSxtQkFBbUIsY0FDakIsSUFBSTt3REFLUCxZQUFZO3NCQUFwQixLQUFLO2dCQUNHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFHa0MsTUFBTTtzQkFBN0MsU0FBUzt1QkFBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO2dCQUNNLFVBQVU7c0JBQXJELFNBQVM7dUJBQUMsWUFBWSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRTtnQkFDSSxZQUFZO3NCQUF6RCxTQUFTO3VCQUFDLGNBQWMsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIElucHV0LFxuICBBZnRlclZpZXdJbml0LFxuICBFbGVtZW50UmVmLFxuICBWaWV3Q2hpbGQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjdXR6LXZpZGVvLW1vZHVsZScsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIHRlbXBsYXRlVXJsOiAnLi9jdXR6LXZpZGVvLW1vZHVsZS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2N1dHotdmlkZW8tbW9kdWxlLmNvbXBvbmVudC5zY3NzJ10sXG59KVxuZXhwb3J0IGNsYXNzIEN1dHpWaWRlb01vZHVsZUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQge1xuICBASW5wdXQoKSB2aWRlb0xlZnRTcmM6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSB2aWRlb1JpZ2h0U3JjOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgcG9zdGVySW1nOiBzdHJpbmcgPSAnJztcblxuICAvLyBVc2Ftb3MgQFZpZXdDaGlsZCBwYXJhIHNlbGVjY2lvbmFyIGxvcyBlbGVtZW50b3MgZGVsIERPTVxuICBAVmlld0NoaWxkKCdoYW5kbGUnLCB7IHN0YXRpYzogZmFsc2UgfSkgaGFuZGxlITogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgndmlkZW9SaWdodCcsIHsgc3RhdGljOiBmYWxzZSB9KSB2aWRlb1JpZ2h0ITogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgndmlkZW9XcmFwcGVyJywgeyBzdGF0aWM6IGZhbHNlIH0pIHZpZGVvV3JhcHBlciE6IEVsZW1lbnRSZWY7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmhhbmRsZS5uYXRpdmVFbGVtZW50O1xuICAgIGNvbnN0IHZpZGVvUmlnaHQgPSB0aGlzLnZpZGVvUmlnaHQubmF0aXZlRWxlbWVudDtcbiAgICBjb25zdCB2aWRlb1dyYXBwZXIgPSB0aGlzLnZpZGVvV3JhcHBlci5uYXRpdmVFbGVtZW50O1xuXG4gICAgbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0IHN0YXJ0RHJhZ2dpbmcgPSAoKSA9PiB7XG4gICAgICBpc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHN0b3BEcmFnZ2luZyA9ICgpID0+IHtcbiAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgIH07XG5cbiAgICBjb25zdCBvbk1vdmUgPSAoY2xpZW50WDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gdmlkZW9XcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgbGV0IG9mZnNldFggPSBjbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgb2Zmc2V0WCA9IE1hdGgubWF4KDAsIE1hdGgubWluKG9mZnNldFgsIHJlY3Qud2lkdGgpKTtcblxuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IChvZmZzZXRYIC8gcmVjdC53aWR0aCkgKiAxMDA7XG5cbiAgICAgIGhhbmRsZS5zdHlsZS5sZWZ0ID0gYGNhbGMoJHtwZXJjZW50YWdlfSUgLSAyMHB4KWA7XG4gICAgICB2aWRlb1JpZ2h0LnN0eWxlLmNsaXBQYXRoID0gYGluc2V0KDAgJHsxMDAgLSBwZXJjZW50YWdlfSUgMCAwKWA7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcbiAgICAgIG9uTW92ZShldmVudC5jbGllbnRYKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25Ub3VjaE1vdmUgPSAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xuICAgICAgb25Nb3ZlKHRvdWNoLmNsaWVudFgpO1xuICAgIH07XG5cbiAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3RhcnREcmFnZ2luZyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN0b3BEcmFnZ2luZyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuXG4gICAgLy8gU29wb3J0ZSBwYXJhIGRpc3Bvc2l0aXZvcyB0w6FjdGlsZXNcbiAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICAgIHN0YXJ0RHJhZ2dpbmcoKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgc3RvcERyYWdnaW5nKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XG4gIH1cbn1cbiIsIjxzZWN0aW9uIGNsYXNzPVwidmlkZW8tY29tcGFyYXRvci1ibG9ja1wiPlxuICAgIDxkaXZcbiAgICAgICAgI3ZpZGVvV3JhcHBlclxuICAgICAgICBjbGFzcz1cInZpZGVvLXdyYXBwZXJcIlxuICAgID5cbiAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAjdmlkZW9MZWZ0XG4gICAgICAgICAgICBjbGFzcz1cInZpZGVvLWxlZnRcIlxuICAgICAgICAgICAgW3Bvc3Rlcl09XCJwb3N0ZXJJbWdcIlxuICAgICAgICAgICAgW3NyY109XCJ2aWRlb0xlZnRTcmNcIlxuICAgICAgICAgICAgYXV0b3BsYXlcbiAgICAgICAgICAgIG11dGVkXG4gICAgICAgICAgICBsb29wXG4gICAgICAgID48L3ZpZGVvPlxuXG4gICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgI3ZpZGVvUmlnaHRcbiAgICAgICAgICAgIGNsYXNzPVwidmlkZW8tcmlnaHRcIlxuICAgICAgICAgICAgW3Bvc3Rlcl09XCJwb3N0ZXJJbWdcIlxuICAgICAgICAgICAgW3NyY109XCJ2aWRlb1JpZ2h0U3JjXCJcbiAgICAgICAgICAgIGF1dG9wbGF5XG4gICAgICAgICAgICBtdXRlZFxuICAgICAgICAgICAgbG9vcFxuICAgICAgICA+PC92aWRlbz5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICAjaGFuZGxlXG4gICAgICAgICAgICBjbGFzcz1cImhhbmRsZVwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXZpZGVyLWxpbmVcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoYW5kbGUtaWNvblwiPuKftzwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvc2VjdGlvbj4iXX0=