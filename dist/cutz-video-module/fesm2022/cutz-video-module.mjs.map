{"version":3,"file":"cutz-video-module.mjs","sources":["../../../projects/cutz-video-module/src/lib/cutz-video-module.service.ts","../../../projects/cutz-video-module/src/lib/cutz-video-module.component.ts","../../../projects/cutz-video-module/src/lib/cutz-video-module.component.html","../../../projects/cutz-video-module/src/public-api.ts","../../../projects/cutz-video-module/src/cutz-video-module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CutzVideoModuleService {\n\n  constructor() { }\n}\n","import {\n  Component,\n  Input,\n  AfterViewInit,\n  ElementRef,\n  ViewChild,\n} from '@angular/core';\n\n@Component({\n  selector: 'cutz-video-module',\n  standalone: true,\n  templateUrl: './cutz-video-module.component.html',\n  styleUrls: ['./cutz-video-module.component.scss'],\n})\nexport class CutzVideoModuleComponent implements AfterViewInit {\n  @Input() videoLeftSrc: string = '';\n  @Input() videoRightSrc: string = '';\n  @Input() posterImg: string = '';\n\n  // Usamos @ViewChild para seleccionar los elementos del DOM\n  @ViewChild('handle', { static: false }) handle!: ElementRef;\n  @ViewChild('videoRight', { static: false }) videoRight!: ElementRef;\n  @ViewChild('videoWrapper', { static: false }) videoWrapper!: ElementRef;\n\n  constructor() {}\n\n  ngAfterViewInit() {\n    const handle = this.handle.nativeElement;\n    const videoRight = this.videoRight.nativeElement;\n    const videoWrapper = this.videoWrapper.nativeElement;\n\n    let isDragging = false;\n\n    const startDragging = () => {\n      isDragging = true;\n      document.body.style.cursor = 'ew-resize';\n    };\n\n    const stopDragging = () => {\n      isDragging = false;\n      document.body.style.cursor = 'default';\n    };\n\n    const onMove = (clientX: number) => {\n      const rect = videoWrapper.getBoundingClientRect();\n      let offsetX = clientX - rect.left;\n      offsetX = Math.max(0, Math.min(offsetX, rect.width));\n\n      const percentage = (offsetX / rect.width) * 100;\n\n      handle.style.left = `calc(${percentage}% - 20px)`;\n      videoRight.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;\n    };\n\n    const onMouseMove = (event: MouseEvent) => {\n      if (!isDragging) return;\n      onMove(event.clientX);\n    };\n\n    const onTouchMove = (event: TouchEvent) => {\n      if (!isDragging) return;\n      const touch = event.touches[0];\n      onMove(touch.clientX);\n    };\n\n    handle.addEventListener('mousedown', startDragging);\n    document.addEventListener('mouseup', stopDragging);\n    document.addEventListener('mousemove', onMouseMove);\n\n    // Soporte para dispositivos táctiles\n    handle.addEventListener('touchstart', () => {\n      startDragging();\n    });\n\n    document.addEventListener('touchend', stopDragging);\n    document.addEventListener('touchmove', onTouchMove);\n  }\n}\n","<section class=\"video-comparator-block\">\n    <div\n        #videoWrapper\n        class=\"video-wrapper\"\n    >\n        <video\n            #videoLeft\n            class=\"video-left\"\n            [poster]=\"posterImg\"\n            [src]=\"videoLeftSrc\"\n            [autoplay]=\"true\"\n            [muted]=\"true\"\n            [loop]=\"true\"\n        ></video>\n\n        <video\n            #videoRight\n            class=\"video-right\"\n            [poster]=\"posterImg\"\n            [src]=\"videoRightSrc\"\n            [autoplay]=\"true\"\n            [muted]=\"true\"\n            [loop]=\"true\"\n        ></video>\n\n        <div\n            #handle\n            class=\"handle\"\n        >\n            <div class=\"divider-line\"></div>\n            <div class=\"handle-icon\">⟷</div>\n        </div>\n    </div>\n</section>","/*\n * Public API Surface of cutz-video-module\n */\n\nexport * from './lib/cutz-video-module.service';\nexport * from './lib/cutz-video-module.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}